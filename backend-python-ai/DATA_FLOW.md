# ğŸ”„ MEK-AI å®Œæ•´æ•°æ®æµå‘æ–‡æ¡£

> æ–‡æ¡£ç‰ˆæœ¬ï¼šv1.0
> æ›´æ–°æ—¥æœŸï¼š2026-02-06
> æè¿°ï¼šä»å‰ç«¯ç”¨æˆ·æ“ä½œåˆ°åç«¯å¤„ç†çš„å®Œæ•´æ•°æ®æµå‘è¯´æ˜

---

## ğŸ“‹ ç›®å½•

1. [æ¶æ„æ¦‚è§ˆ](#-æ¶æ„æ¦‚è§ˆ)
2. [åœºæ™¯ä¸€ï¼šæµè§ˆå‘˜å·¥åˆ—è¡¨](#-åœºæ™¯ä¸€æµè§ˆå‘˜å·¥åˆ—è¡¨)
3. [åœºæ™¯äºŒï¼šé›‡ä½£å‘˜å·¥](#-åœºæ™¯äºŒé›‡ä½£å‘˜å·¥)
4. [åœºæ™¯ä¸‰ï¼šå‘é€èŠå¤©æ¶ˆæ¯](#-åœºæ™¯ä¸‰å‘é€èŠå¤©æ¶ˆæ¯)
5. [åœºæ™¯å››ï¼šæŸ¥çœ‹å‘˜å·¥è¯¦æƒ…](#-åœºæ™¯å››æŸ¥çœ‹å‘˜å·¥è¯¦æƒ…)
6. [åœºæ™¯äº”ï¼šçŸ¥è¯†åº“ç®¡ç†](#-åœºæ™¯äº”çŸ¥è¯†åº“ç®¡ç†)
7. [æ ¸å¿ƒæ•°æ®æ¨¡å‹](#-æ ¸å¿ƒæ•°æ®æ¨¡å‹)
8. [è”è°ƒé—®é¢˜è®°å½•](#-è”è°ƒé—®é¢˜è®°å½•)

---

## ğŸ—ï¸ æ¶æ„æ¦‚è§ˆ

### ç³»ç»Ÿåˆ†å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              å‰ç«¯å±‚ (Frontend)                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  UIç»„ä»¶å±‚   â”‚  â”‚  Bridgeå±‚   â”‚  â”‚   Hookså±‚   â”‚  â”‚      Storeå±‚        â”‚ â”‚
â”‚  â”‚  Reactç»„ä»¶  â”‚  â”‚  æ¡¥æ¥é€»è¾‘   â”‚  â”‚  ä¸šåŠ¡é€»è¾‘   â”‚  â”‚   çŠ¶æ€ç®¡ç†(Zustand) â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                â”‚                â”‚                    â”‚
          â”‚                â”‚                â”‚                    â”‚ HTTPè¯·æ±‚
          â”‚                â”‚                â”‚                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         â”‚                â”‚                â”‚           APIå±‚ (Backend)      â”‚
â”‚         â”‚                â”‚                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚         â”‚                â”‚                â”‚  â”‚    FastAPI Endpoints      â”‚ â”‚
â”‚         â”‚                â”‚                â”‚  â”‚  - marketplace.py         â”‚ â”‚
â”‚         â”‚                â”‚                â”‚  â”‚  - employees.py           â”‚ â”‚
â”‚         â”‚                â”‚                â”‚  â”‚  - chat.py                â”‚ â”‚
â”‚         â”‚                â”‚                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                â”‚                â”‚                â”‚               â”‚
â”‚         â”‚                â”‚                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚         â”‚                â”‚                â”‚  â”‚      Service Layer        â”‚ â”‚
â”‚         â”‚                â”‚                â”‚  â”‚  - employee_service.py    â”‚ â”‚
â”‚         â”‚                â”‚                â”‚  â”‚  - chat_service.py        â”‚ â”‚
â”‚         â”‚                â”‚                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                â”‚                â”‚                â”‚               â”‚
â”‚         â”‚                â”‚                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚         â”‚                â”‚                â”‚  â”‚       Agent Layer         â”‚ â”‚
â”‚         â”‚                â”‚                â”‚  â”‚  - digital_employee_agent â”‚ â”‚
â”‚         â”‚                â”‚                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                â”‚                â”‚                â”‚               â”‚
â”‚         â”‚                â”‚                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚         â”‚                â”‚                â”‚  â”‚       AI Model Layer      â”‚ â”‚
â”‚         â”‚                â”‚                â”‚  â”‚  - chat_deepseek.py       â”‚ â”‚
â”‚         â”‚                â”‚                â”‚  â”‚  - model_manager.py       â”‚ â”‚
â”‚         â”‚                â”‚                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                â”‚                â”‚                â”‚               â”‚
â”‚         â”‚                â”‚                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚         â”‚                â”‚                â”‚  â”‚       Memory Layer        â”‚ â”‚
â”‚         â”‚                â”‚                â”‚  â”‚  - conversation_memory.py â”‚ â”‚
â”‚         â”‚                â”‚                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                â”‚                â”‚                â”‚               â”‚
â”‚         â”‚                â”‚                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚         â”‚                â”‚                â”‚  â”‚        Data Layer         â”‚ â”‚
â”‚         â”‚                â”‚                â”‚  â”‚  - å†…å­˜å­˜å‚¨ (å½“å‰)        â”‚ â”‚
â”‚         â”‚                â”‚                â”‚  â”‚  - æ•°æ®åº“ (æœªæ¥)          â”‚ â”‚
â”‚         â”‚                â”‚                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‚ å‰ç«¯æ–‡ä»¶ç»“æ„

```
frontend/src/
â”œâ”€â”€ modules/marketplace/
â”‚   â”œâ”€â”€ EnhancedMarketplaceBridge.tsx      # å¸‚åœºå¹¿åœºæ¡¥æ¥ç»„ä»¶
â”‚   â”œâ”€â”€ ChatBridge.tsx                     # èŠå¤©é¡µé¢æ¡¥æ¥ç»„ä»¶
â”‚   â”œâ”€â”€ logic/
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ useMarketplace.ts          # å¸‚åœºæ•°æ®é€»è¾‘Hook
â”‚   â”‚   â”‚   â”œâ”€â”€ useMarketplaceInteraction.ts # å¸‚åœºäº¤äº’é€»è¾‘Hook
â”‚   â”‚   â”‚   â””â”€â”€ useChatLogic.ts            # èŠå¤©é€»è¾‘Hook
â”‚   â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â”‚   â”œâ”€â”€ marketplaceStore.ts        # å¸‚åœºæ•°æ®çŠ¶æ€
â”‚   â”‚   â”‚   â”œâ”€â”€ marketplaceUIStore.ts      # å¸‚åœºUIçŠ¶æ€
â”‚   â”‚   â”‚   â””â”€â”€ chatStore.ts               # èŠå¤©çŠ¶æ€
â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚       â””â”€â”€ employeeApi.ts             # APIæœåŠ¡
â”‚   â””â”€â”€ ui-pages/marketplace/components/
â”‚       â”œâ”€â”€ MarketplacePage.tsx            # å¸‚åœºé¡µé¢
â”‚       â”œâ”€â”€ EmployeeCard.tsx               # å‘˜å·¥å¡ç‰‡
â”‚       â”œâ”€â”€ RecruitmentModal.tsx           # æ‹›è˜å¼¹çª—
â”‚       â””â”€â”€ ChatInterface.tsx              # èŠå¤©ç•Œé¢
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ config/api.ts                      # APIç«¯ç‚¹é…ç½®
â”‚   â””â”€â”€ services/apiClient.ts              # HTTPå®¢æˆ·ç«¯
â””â”€â”€ core/store/
    â””â”€â”€ userStore.ts                       # ç”¨æˆ·æ ¸å¿ƒçŠ¶æ€
```

---

## ğŸ“‚ åç«¯æ–‡ä»¶ç»“æ„

```
backend-python-ai/app/
â”œâ”€â”€ api/v1/endpoints/
â”‚   â”œâ”€â”€ marketplace.py                     # å¸‚åœºå¹¿åœºAPI
â”‚   â”œâ”€â”€ employees.py                       # å‘˜å·¥ç®¡ç†API
â”‚   â”œâ”€â”€ chat.py                            # èŠå¤©API
â”‚   â”œâ”€â”€ knowledge.py                       # çŸ¥è¯†åº“API
â”‚   â””â”€â”€ health.py                          # å¥åº·æ£€æŸ¥API
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ employee_service.py                # å‘˜å·¥æœåŠ¡
â”‚   â”œâ”€â”€ knowledge/                         # çŸ¥è¯†åº“æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ knowledge_service.py           # çŸ¥è¯†åº“CRUDæœåŠ¡
â”‚   â”‚   â””â”€â”€ document_processor.py          # æ–‡æ¡£å¤„ç†æœåŠ¡
â”‚   â”œâ”€â”€ ai/
â”‚   â”‚   â”œâ”€â”€ chat_service.py                # èŠå¤©æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ chat_deepseek.py               # DeepSeekæ¨¡å‹
â”‚   â”‚   â””â”€â”€ model_manager.py               # æ¨¡å‹ç®¡ç†
â”‚   â”œâ”€â”€ memory/
â”‚   â”‚   â””â”€â”€ conversation_memory.py         # å¯¹è¯è®°å¿†
â”‚   â””â”€â”€ processing/                        # æ•°æ®å¤„ç†(é¢„ç•™)
â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ base_agent.py                      # æ™ºèƒ½ä½“åŸºç±»
â”‚   â””â”€â”€ digital_employee_agent.py          # æ•°å­—å‘˜å·¥æ™ºèƒ½ä½“
â””â”€â”€ models/
    â””â”€â”€ schemas.py                         # Pydanticæ¨¡å‹
```

---

## ğŸ¯ åœºæ™¯ä¸€ï¼šæµè§ˆå‘˜å·¥åˆ—è¡¨

### æ—¶åºå›¾

```
ç”¨æˆ·æ‰“å¼€å¸‚åœºå¹¿åœºé¡µé¢
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. é¡µé¢åˆå§‹åŒ–åŠ è½½                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: EnhancedMarketplaceBridge.tsx                                          â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\modules\marketplace\          â”‚
â”‚       EnhancedMarketplaceBridge.tsx                                          â”‚
â”‚                                                                              â”‚
â”‚ å‡½æ•°: EnhancedMarketplaceBridge ç»„ä»¶æŒ‚è½½                                     â”‚
â”‚ è§¦å‘: React useEffect                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: useMarketplace.ts                                                      â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\modules\marketplace\logic\    â”‚
â”‚       hooks\useMarketplace.ts                                                â”‚
â”‚                                                                              â”‚
â”‚ å‡½æ•°: useEffect(() => {                                                      â”‚
â”‚         marketplaceStore.loadEmployees();                                    â”‚
â”‚         marketplaceStore.loadCategories();                                   â”‚
â”‚       }, []);                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                                       â”‚
    â–¼                                                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: marketplaceStore.ts                                â”‚  â”‚ æ–‡ä»¶: marketplaceStore.ts                                â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\modules\  â”‚  â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\modules\  â”‚
â”‚       marketplace\logic\stores\marketplaceStore.ts       â”‚  â”‚       marketplace\logic\stores\marketplaceStore.ts       â”‚
â”‚                                                          â”‚  â”‚                                                          â”‚
â”‚ å‡½æ•°: loadEmployees()                                    â”‚  â”‚ å‡½æ•°: loadCategories()                                   â”‚
â”‚ è°ƒç”¨: employeeApi.getEmployees()                         â”‚  â”‚ è°ƒç”¨: employeeApi.getCategories()                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                                                           â”‚
    â–¼                                                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: employeeApi.ts                                     â”‚  â”‚ æ–‡ä»¶: employeeApi.ts                                     â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\modules\  â”‚  â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\modules\  â”‚
â”‚       marketplace\logic\services\employeeApi.ts          â”‚  â”‚       marketplace\logic\services\employeeApi.ts          â”‚
â”‚                                                          â”‚  â”‚                                                          â”‚
â”‚ å‡½æ•°: getEmployees()                                     â”‚  â”‚ å‡½æ•°: getCategories()                                    â”‚
â”‚ è¯·æ±‚: GET /api/v1/employees                              â”‚  â”‚ è¯·æ±‚: GET /api/v1/employees/categories                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                                                           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼ HTTPè¯·æ±‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. åç«¯APIå¤„ç†                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: employees.py                                                           â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\backend-python-ai\app\api\v1\endpoints\     â”‚
â”‚       employees.py                                                           â”‚
â”‚                                                                              â”‚
â”‚ å‡½æ•°: get_employees(                                                         â”‚
â”‚         status_filter: Optional[str] = Query(None, alias="status"),          â”‚
â”‚         category: Optional[str] = Query(None),                               â”‚
â”‚         page: int = Query(1, ge=1),                                          â”‚
â”‚         page_size: int = Query(20, ge=1, le=100),                            â”‚
â”‚         current_user: Optional[UserContext] = Depends(get_optional_user)     â”‚
â”‚       )                                                                      â”‚
â”‚                                                                              â”‚
â”‚ æ­¥éª¤:                                                                        â”‚
â”‚ 1. è®¡ç®—åç§»é‡: offset = (page - 1) * page_size                              â”‚
â”‚ 2. å¤„ç† user_id: å¦‚æœæ˜¯ "anonymous" è½¬ä¸º None                               â”‚
â”‚ 3. è°ƒç”¨ employee_service.list_employees(...)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: employee_service.py                                                    â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\backend-python-ai\app\services\            â”‚
â”‚       employee_service.py                                                    â”‚
â”‚                                                                              â”‚
â”‚ ç±»: EmployeeService                                                          â”‚
â”‚ å‡½æ•°: list_employees(                                                        â”‚
â”‚         user_id: Optional[str] = None,                                       â”‚
â”‚         status: Optional[str] = None,                                        â”‚
â”‚         category: Optional[str] = None,                                      â”‚
â”‚         limit: int = 20,                                                     â”‚
â”‚         offset: int = 0                                                      â”‚
â”‚       ) -> List[EmployeeResponse]                                            â”‚
â”‚                                                                              â”‚
â”‚ æ­¥éª¤:                                                                        â”‚
â”‚ 1. éå† self._employees å­—å…¸ (å†…å­˜å­˜å‚¨)                                      â”‚
â”‚ 2. åº”ç”¨è¿‡æ»¤æ¡ä»¶:                                                             â”‚
â”‚    - if user_id and emp_data["created_by"] != user_id: continue             â”‚
â”‚    - if status and emp_data["status"] != status: continue                   â”‚
â”‚    - if category and category not in emp_data["category"]: continue         â”‚
â”‚ 3. æŒ‰ updated_at å€’åºæ’åº                                                    â”‚
â”‚ 4. åº”ç”¨åˆ†é¡µ: return filtered_employees[offset:offset+limit]                 â”‚
â”‚                                                                              â”‚
â”‚ æ•°æ®å­˜å‚¨: self._employees: Dict[str, Dict[str, Any]]                        â”‚
â”‚ ç¤ºä¾‹æ•°æ®: emp_001, emp_002, emp_003                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: employees.py (è¿”å›å“åº”)                                                â”‚
â”‚                                                                              â”‚
â”‚ æ„å»ºå“åº”:                                                                    â”‚
â”‚ return SuccessResponse(                                                      â”‚
â”‚     success=True,                                                            â”‚
â”‚     message="è·å–å‘˜å·¥åˆ—è¡¨æˆåŠŸ",                                              â”‚
â”‚     data={                                                                   â”‚
â”‚         "items": [emp.dict() for emp in employees],                         â”‚
â”‚         "total": total_employees,                                           â”‚
â”‚         "page": page,                                                       â”‚
â”‚         "page_size": page_size,                                             â”‚
â”‚         "total_pages": total_pages,                                         â”‚
â”‚         "has_next": page < total_pages,                                     â”‚
â”‚         "has_prev": page > 1                                                â”‚
â”‚     }                                                                        â”‚
â”‚ )                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼ HTTPå“åº”
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. å‰ç«¯å¤„ç†å“åº”                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: employeeApi.ts                                                         â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\modules\marketplace\logic\    â”‚
â”‚       services\employeeApi.ts                                                â”‚
â”‚                                                                              â”‚
â”‚ å‡½æ•°: getEmployees()                                                         â”‚
â”‚                                                                              â”‚
â”‚ æ­¥éª¤:                                                                        â”‚
â”‚ 1. æ¥æ”¶åç«¯å“åº”: { success, message, data: { items, total, ... } }          â”‚
â”‚ 2. æ•°æ®è½¬æ¢: transformEmployeesFromApi(response.data.items)                 â”‚
â”‚    - snake_case -> camelCase                                                â”‚
â”‚    - trial_count -> trialCount                                              â”‚
â”‚    - hire_count -> hireCount                                                â”‚
â”‚    - is_hired -> isHired                                                    â”‚
â”‚    - created_at -> createdAt                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: marketplaceStore.ts                                                    â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\modules\marketplace\logic\    â”‚
â”‚       stores\marketplaceStore.ts                                             â”‚
â”‚                                                                              â”‚
â”‚ å‡½æ•°: loadEmployees() å†…éƒ¨                                                   â”‚
â”‚                                                                              â”‚
â”‚ çŠ¶æ€æ›´æ–°:                                                                    â”‚
â”‚ set({                                                                        â”‚
â”‚   employees: adaptedEmployees,                                               â”‚
â”‚   isLoading: false,                                                          â”‚
â”‚   lastUpdated: Date.now()                                                    â”‚
â”‚ })                                                                           â”‚
â”‚                                                                              â”‚
â”‚ åŒæ—¶åŒæ­¥åˆ° userStore:                                                        â”‚
â”‚ useUserStore.getState().syncRecruitedEmployees(adaptedEmployees);           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: useMarketplace.ts                                                      â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\modules\marketplace\logic\    â”‚
â”‚       hooks\useMarketplace.ts                                                â”‚
â”‚                                                                              â”‚
â”‚ è®¡ç®—è¿‡æ»¤åçš„å‘˜å·¥åˆ—è¡¨:                                                        â”‚
â”‚ const filteredEmployees = useFilteredEmployees(                              â”‚
â”‚   employees,                                                                 â”‚
â”‚   activeCategoryId,                                                          â”‚
â”‚   searchQuery                                                                â”‚
â”‚ );                                                                           â”‚
â”‚                                                                              â”‚
â”‚ è¿‡æ»¤é€»è¾‘:                                                                    â”‚
â”‚ - æŒ‰åˆ†ç±»è¿‡æ»¤: employee.category.includes(activeCategoryId)                  â”‚
â”‚ - æŒ‰æœç´¢è¯è¿‡æ»¤: employee.name.toLowerCase().includes(searchQuery)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: MarketplacePage.tsx                                                    â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\ui-pages\marketplace\        â”‚
â”‚       components\MarketplacePage.tsx                                         â”‚
â”‚                                                                              â”‚
â”‚ æ¸²æŸ“:                                                                        â”‚
â”‚ <EmployeeGrid>                                                               â”‚
â”‚   {filteredEmployees.map(employee => (                                      â”‚
â”‚     <EmployeeCard                                                            â”‚
â”‚       key={employee.id}                                                      â”‚
â”‚       employee={employee}                                                    â”‚
â”‚       onClick={() => onEmployeeClick(employee)}                              â”‚
â”‚     />                                                                       â”‚
â”‚   ))}                                                                        â”‚
â”‚ </EmployeeGrid>                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”®ä»£ç ç‰‡æ®µ

**å‰ç«¯ - APIè¯·æ±‚**
```typescript
// employeeApi.ts
export async function getEmployees(): Promise<Employee[]> {
  const response = await apiClient.get<ApiResponse<any>>(
    API_ENDPOINTS.EMPLOYEES.LIST
  );
  
  if (!response.success || !response.data) {
    throw new Error(response.message || 'è·å–å‘˜å·¥åˆ—è¡¨å¤±è´¥');
  }
  
  // æ•°æ®è½¬æ¢: snake_case -> camelCase
  const items = response.data.items || response.data;
  return transformEmployeesFromApi(items);
}
```

**åç«¯ - æœåŠ¡å±‚è¿‡æ»¤**
```python
# employee_service.py
def list_employees(self, user_id=None, status=None, category=None, limit=20, offset=0):
    filtered_employees = []
    
    for emp_id, emp_data in self._employees.items():
        # ç”¨æˆ·è¿‡æ»¤ (å…³é”®: anonymous è¦è½¬ä¸º None)
        if user_id and emp_data.get("created_by") != user_id:
            continue
        
        # çŠ¶æ€è¿‡æ»¤
        if status and emp_data.get("status") != status:
            continue
        
        # åˆ†ç±»è¿‡æ»¤
        if category and category not in emp_data.get("category", []):
            continue
        
        filtered_employees.append(EmployeeResponse(**emp_data))
    
    # æ’åºå’Œåˆ†é¡µ
    filtered_employees.sort(key=lambda x: x.updated_at, reverse=True)
    return filtered_employees[offset:offset + limit]
```

---

## ğŸ¯ åœºæ™¯äºŒï¼šé›‡ä½£å‘˜å·¥

### æ—¶åºå›¾

```
ç”¨æˆ·ç‚¹å‡»"å…è´¹æ‹›è˜"æŒ‰é’®
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. è§¦å‘ç‚¹å‡»äº‹ä»¶                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: EmployeeCard.tsx                                                       â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\ui-pages\marketplace\        â”‚
â”‚       components\EmployeeCard.tsx                                            â”‚
â”‚                                                                              â”‚
â”‚ ç»„ä»¶: EmployeeCard                                                           â”‚
â”‚ äº‹ä»¶: onClick={() => onEmployeeClick(employee)}                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: MarketplacePage.tsx                                                    â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\ui-pages\marketplace\        â”‚
â”‚       components\MarketplacePage.tsx                                         â”‚
â”‚                                                                              â”‚
â”‚ å±æ€§: onEmployeeClick: (employee: Employee) => void;                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: EnhancedMarketplaceBridge.tsx                                          â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\modules\marketplace\          â”‚
â”‚       EnhancedMarketplaceBridge.tsx                                          â”‚
â”‚                                                                              â”‚
â”‚ å‡½æ•°: interaction.handleEmployeeCardClick(employee)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: useMarketplaceInteraction.ts                                           â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\modules\marketplace\logic\    â”‚
â”‚       hooks\useMarketplaceInteraction.ts                                     â”‚
â”‚                                                                              â”‚
â”‚ å‡½æ•°: handleEmployeeCardClick(employee: Employee)                            â”‚
â”‚                                                                              â”‚
â”‚ é€»è¾‘åˆ†æ”¯:                                                                    â”‚
â”‚ if (employee.isHired || employee.isRecruited) {                             â”‚
â”‚   // å·²é›‡ä½£ï¼Œè·³è½¬åˆ°èŠå¤©é¡µé¢                                                  â”‚
â”‚   navigate(`/chat/${employee.id}`);                                         â”‚
â”‚ } else {                                                                     â”‚
â”‚   // æœªé›‡ä½£ï¼Œæ˜¾ç¤ºæ‹›è˜å¼¹çª—                                                    â”‚
â”‚   uiStore.openHireModal(employee);                                          â”‚
â”‚ }                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼ (æ˜¾ç¤ºå¼¹çª—)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: RecruitmentModal.tsx                                                   â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\ui-pages\marketplace\        â”‚
â”‚       components\RecruitmentModal.tsx                                        â”‚
â”‚                                                                              â”‚
â”‚ ç»„ä»¶: RecruitmentModal                                                       â”‚
â”‚ å±æ€§: onConfirm: () => void;                                                 â”‚
â”‚                                                                              â”‚
â”‚ ç”¨æˆ·ç‚¹å‡»"ç¡®è®¤æ‹›è˜"æŒ‰é’® -> è§¦å‘ onConfirm                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: EnhancedMarketplaceBridge.tsx                                          â”‚
â”‚                                                                              â”‚
â”‚ å‡½æ•°: handleHireConfirm()                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: useMarketplaceInteraction.ts                                           â”‚
â”‚                                                                              â”‚
â”‚ å‡½æ•°: handleHireConfirm()                                                    â”‚
â”‚ è°ƒç”¨: marketplaceStore.hireEmployee(hiringEmployee.id)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: marketplaceStore.ts                                                    â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\modules\marketplace\logic\    â”‚
â”‚       stores\marketplaceStore.ts                                             â”‚
â”‚                                                                              â”‚
â”‚ å‡½æ•°: hireEmployee(employeeId: string)                                       â”‚
â”‚                                                                              â”‚
â”‚ æ­¥éª¤:                                                                        â”‚
â”‚ 1. set({ isLoading: true })                                                  â”‚
â”‚ 2. è°ƒç”¨ employeeApi.hireEmployee(employeeId)                                â”‚
â”‚ 3. æ›´æ–°æœ¬åœ°çŠ¶æ€:                                                             â”‚
â”‚    - æ‰¾åˆ°å‘˜å·¥ï¼Œæ›´æ–° isHired = true                                          â”‚
â”‚    - æ›´æ–° hireCount += 1                                                    â”‚
â”‚ 4. åŒæ­¥åˆ° userStore:                                                         â”‚
â”‚    useUserStore.getState().addRecruitedEmployee(updatedEmployee);           â”‚
â”‚ 5. set({ isLoading: false })                                                 â”‚
â”‚ 6. å…³é—­å¼¹çª—: uiStore.closeHireModal()                                       â”‚
â”‚ 7. æ˜¾ç¤ºæˆåŠŸæç¤º: showToast('é›‡ä½£æˆåŠŸ')                                      â”‚
â”‚ 8. è·³è½¬åˆ°èŠå¤©: navigate(`/chat/${employeeId}`)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: employeeApi.ts                                                         â”‚
â”‚                                                                              â”‚
â”‚ å‡½æ•°: hireEmployee(employeeId: string)                                       â”‚
â”‚ è¯·æ±‚: POST /api/v1/marketplace/${employeeId}/hire                           â”‚
â”‚ è¯·æ±‚ä½“: {} (ç©ºå¯¹è±¡ï¼ŒemployeeIdå·²åœ¨URLè·¯å¾„ä¸­)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼ HTTPè¯·æ±‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. åç«¯APIå¤„ç†                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: marketplace.py                                                         â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\backend-python-ai\app\api\v1\endpoints\    â”‚
â”‚       marketplace.py                                                         â”‚
â”‚                                                                              â”‚
â”‚ å‡½æ•°: hire_employee(                                                         â”‚
â”‚         employee_id: str,                                                    â”‚
â”‚         hire_request: HireRequest,                                           â”‚
â”‚         current_user: Optional[UserContext] = Depends(get_optional_user)     â”‚
â”‚       )                                                                      â”‚
â”‚                                                                              â”‚
â”‚ è·¯ç”±: @router.post("/{employee_id}/hire", ...)                              â”‚
â”‚                                                                              â”‚
â”‚ éªŒè¯æ­¥éª¤:                                                                    â”‚
â”‚ 1. existing_employee = employee_service.get_employee(employee_id)           â”‚
â”‚ 2. if not existing_employee: raise HTTPException(404)                       â”‚
â”‚ 3. if existing_employee.status != "published": raise HTTPException(400)     â”‚
â”‚ 4. if existing_employee.is_hired: raise HTTPException(400, "å·²è¢«é›‡ä½£")      â”‚
â”‚                                                                              â”‚
â”‚ æ‰§è¡Œä¸šåŠ¡:                                                                    â”‚
â”‚ organization_id = hire_request.organization_id or current_user.organization_idâ”‚
â”‚ hired_employee = employee_service.hire_employee(employee_id, organization_id)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: employee_service.py                                                    â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\backend-python-ai\app\services\            â”‚
â”‚       employee_service.py                                                    â”‚
â”‚                                                                              â”‚
â”‚ ç±»: EmployeeService                                                          â”‚
â”‚ å‡½æ•°: hire_employee(self, employee_id: str, organization_id: Optional[str])  â”‚
â”‚                                                                              â”‚
â”‚ æ­¥éª¤:                                                                        â”‚
â”‚ 1. employee = self._employees[employee_id]                                  â”‚
â”‚ 2. æ›´æ–°å­—æ®µ:                                                                 â”‚
â”‚    - employee["is_hired"] = True                                            â”‚
â”‚    - employee["is_recruited"] = True                                        â”‚
â”‚    - employee["hire_count"] = employee.get("hire_count", 0) + 1             â”‚
â”‚    - employee["updated_at"] = datetime.now()                                â”‚
â”‚ 3. return EmployeeResponse(**employee)                                      â”‚
â”‚                                                                              â”‚
â”‚ æ—¥å¿—: self.log_info(f"é›‡ä½£å‘˜å·¥æˆåŠŸ: {employee_id}, ç»„ç»‡: {organization_id}")  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: marketplace.py (è¿”å›å“åº”)                                              â”‚
â”‚                                                                              â”‚
â”‚ return SuccessResponse(                                                      â”‚
â”‚     success=True,                                                            â”‚
â”‚     message="å‘˜å·¥é›‡ä½£æˆåŠŸ",                                                  â”‚
â”‚     data={                                                                   â”‚
â”‚         "employee": hired_employee.dict(),                                  â”‚
â”‚         "hire_time": hired_employee.updated_at,                             â”‚
â”‚         "user_id": user_id,                                                 â”‚
â”‚         "organization_id": organization_id                                  â”‚
â”‚     }                                                                        â”‚
â”‚ )                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼ HTTPå“åº”
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. å‰ç«¯å¤„ç†å“åº”                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: employeeApi.ts                                                         â”‚
â”‚                                                                              â”‚
â”‚ æ¥æ”¶å“åº”: { success: true, message: "å‘˜å·¥é›‡ä½£æˆåŠŸ", data: {...} }           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: marketplaceStore.ts (æ›´æ–°çŠ¶æ€)                                         â”‚
â”‚                                                                              â”‚
â”‚ æ›´æ–°æœ¬åœ°å‘˜å·¥çŠ¶æ€ -> åŒæ­¥åˆ° userStore -> è·³è½¬èŠå¤©é¡µé¢                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”®ä»£ç ç‰‡æ®µ

**å‰ç«¯ - çŠ¶æ€æ›´æ–°**
```typescript
// marketplaceStore.ts
hireEmployee: async (employeeId: string) => {
  set({ isLoading: true });
  
  try {
    // è°ƒç”¨API
    await employeeApi.hireEmployee(employeeId);
    
    // æ›´æ–°æœ¬åœ°çŠ¶æ€
    set(state => ({
      employees: state.employees.map(emp =>
        emp.id === employeeId
          ? { ...emp, isHired: true, hireCount: emp.hireCount + 1 }
          : emp
      )
    }));
    
    // åŒæ­¥åˆ°ç”¨æˆ·Store
    const updatedEmployee = get().employees.find(e => e.id === employeeId);
    useUserStore.getState().addRecruitedEmployee(updatedEmployee);
    
    // å…³é—­å¼¹çª—å¹¶è·³è½¬
    useMarketplaceUIStore.getState().closeHireModal();
    navigate(`/chat/${employeeId}`);
    
  } finally {
    set({ isLoading: false });
  }
}
```

**åç«¯ - é›‡ä½£éªŒè¯**
```python
# marketplace.py
@router.post("/{employee_id}/hire")
async def hire_employee(
    employee_id: str,
    hire_request: HireRequest,
    current_user: Optional[UserContext] = Depends(get_optional_user)
):
    # 1. æ£€æŸ¥å‘˜å·¥æ˜¯å¦å­˜åœ¨
    existing_employee = employee_service.get_employee(employee_id)
    if not existing_employee:
        raise HTTPException(status_code=404, detail=f"å‘˜å·¥ä¸å­˜åœ¨: {employee_id}")
    
    # 2. æ£€æŸ¥çŠ¶æ€
    if existing_employee.status != "published":
        raise HTTPException(status_code=400, detail="åªèƒ½é›‡ä½£å·²å‘å¸ƒçš„å‘˜å·¥")
    
    # 3. æ£€æŸ¥æ˜¯å¦å·²é›‡ä½£
    if existing_employee.is_hired:
        raise HTTPException(status_code=400, detail="è¯¥å‘˜å·¥å·²è¢«é›‡ä½£")
    
    # 4. æ‰§è¡Œé›‡ä½£
    hired_employee = employee_service.hire_employee(employee_id, organization_id)
    
    return SuccessResponse(success=True, message="å‘˜å·¥é›‡ä½£æˆåŠŸ", data=...)
```

---

## ğŸ¯ åœºæ™¯ä¸‰ï¼šå‘é€èŠå¤©æ¶ˆæ¯

### æ—¶åºå›¾

```
ç”¨æˆ·åœ¨è¾“å…¥æ¡†è¾“å…¥æ¶ˆæ¯å¹¶å‘é€
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. è§¦å‘å‘é€äº‹ä»¶                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: ChatInterface.tsx                                                      â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\ui-pages\marketplace\        â”‚
â”‚       components\ChatInterface.tsx                                           â”‚
â”‚                                                                              â”‚
â”‚ ç»„ä»¶: ChatInterface                                                          â”‚
â”‚                                                                              â”‚
â”‚ è¾“å…¥å¤„ç†:                                                                    â”‚
â”‚ const handleKeyDown = (e: React.KeyboardEvent) => {                         â”‚
â”‚   if (e.key === 'Enter' && !e.shiftKey) {                                   â”‚
â”‚     e.preventDefault();                                                      â”‚
â”‚     onSendMessage();  // è§¦å‘å‘é€                                           â”‚
â”‚   }                                                                          â”‚
â”‚ };                                                                           â”‚
â”‚                                                                              â”‚
â”‚ æŒ‰é’®å¤„ç†:                                                                    â”‚
â”‚ <SendButton onClick={onSendMessage} />                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: ChatBridge.tsx                                                         â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\modules\marketplace\          â”‚
â”‚       ChatBridge.tsx                                                         â”‚
â”‚                                                                              â”‚
â”‚ å±æ€§: onSendMessage: () => void;                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: useChatLogic.ts                                                        â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\modules\marketplace\logic\    â”‚
â”‚       hooks\useChatLogic.ts                                                  â”‚
â”‚                                                                              â”‚
â”‚ å‡½æ•°: handleSendMessage()                                                    â”‚
â”‚                                                                              â”‚
â”‚ é€»è¾‘:                                                                        â”‚
â”‚ if (activeEmployee && chatStore.inputValue.trim()) {                        â”‚
â”‚   chatStore.sendMessage(activeEmployee.id, chatStore.inputValue);           â”‚
â”‚ }                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: chatStore.ts                                                           â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\modules\marketplace\logic\    â”‚
â”‚       stores\chatStore.ts                                                    â”‚
â”‚                                                                              â”‚
â”‚ å‡½æ•°: sendMessage(employeeId: string, content: string)                       â”‚
â”‚                                                                              â”‚
â”‚ æ­¥éª¤:                                                                        â”‚
â”‚ 1. æ£€æŸ¥/åˆ›å»ºä¼šè¯                                                             â”‚
â”‚    let sessionId = state.currentSessionId;                                  â”‚
â”‚    if (!sessionId || state.currentEmployeeId !== employeeId) {              â”‚
â”‚      sessionId = get().createSession(employeeId, title);                    â”‚
â”‚    }                                                                         â”‚
â”‚                                                                              â”‚
â”‚ 2. æ·»åŠ ç”¨æˆ·æ¶ˆæ¯åˆ°æœ¬åœ°çŠ¶æ€                                                    â”‚
â”‚    const userMessage: Message = {                                           â”‚
â”‚      id: `msg-${Date.now()}-user`,                                          â”‚
â”‚      role: 'user',                                                           â”‚
â”‚      content,                                                                â”‚
â”‚      timestamp: Date.now()                                                   â”‚
â”‚    };                                                                        â”‚
â”‚    set(state => ({                                                           â”‚
â”‚      messagesBySession: {                                                    â”‚
â”‚        ...state.messagesBySession,                                           â”‚
â”‚        [sessionId]: [...(state.messagesBySession[sessionId] || []), userMessage]â”‚
â”‚      },                                                                      â”‚
â”‚      inputValue: ''                                                          â”‚
â”‚    }));                                                                      â”‚
â”‚                                                                              â”‚
â”‚ 3. è°ƒç”¨APIè·å–AIå›å¤                                                         â”‚
â”‚    setEmployeeContext(employeeId);  // è®¾ç½®è¯·æ±‚å¤´                           â”‚
â”‚    const response = await sendChatMessage(employeeId, content, sessionId);  â”‚
â”‚                                                                              â”‚
â”‚ 4. æ·»åŠ AIæ¶ˆæ¯åˆ°æœ¬åœ°çŠ¶æ€                                                      â”‚
â”‚    const aiMessage: Message = {                                             â”‚
â”‚      id: `msg-${Date.now()}-ai`,                                            â”‚
â”‚      role: 'model',                                                          â”‚
â”‚      content: response.message,  // AIå›å¤å†…å®¹                              â”‚
â”‚      timestamp: Date.now()                                                   â”‚
â”‚    };                                                                        â”‚
â”‚    set(state => ({                                                           â”‚
â”‚      messagesBySession: {                                                    â”‚
â”‚        ...state.messagesBySession,                                           â”‚
â”‚        [sessionId]: [...state.messagesBySession[sessionId], aiMessage]      â”‚
â”‚      }                                                                       â”‚
â”‚    }));                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: employeeApi.ts                                                         â”‚
â”‚                                                                              â”‚
â”‚ å‡½æ•°: sendChatMessage(employeeId, content, sessionId)                        â”‚
â”‚                                                                              â”‚
â”‚ å…³é”®ä»£ç :                                                                    â”‚
â”‚ const response = await apiClient.post<ApiResponse<any>>(                    â”‚
â”‚   API_ENDPOINTS.CHAT.SEND,  // '/chat'                                      â”‚
â”‚   {                                                                          â”‚
â”‚     message: content,          // ç”¨æˆ·æ¶ˆæ¯                                  â”‚
â”‚     employee_id: employeeId,   // å‘˜å·¥ID                                    â”‚
â”‚     conversation_id: sessionId // ä¼šè¯ID                                    â”‚
â”‚   }                                                                          â”‚
â”‚ );                                                                           â”‚
â”‚                                                                              â”‚
â”‚ // è§£æå“åº”                                                                  â”‚
â”‚ if (!response.success || !response.data) {                                  â”‚
â”‚   throw new Error(response.message);                                         â”‚
â”‚ }                                                                            â”‚
â”‚                                                                              â”‚
â”‚ return {                                                                     â”‚
â”‚   message: response.data.response,  // âœ… å– data.responseï¼Œä¸æ˜¯ message    â”‚
â”‚   conversation_id: response.data.conversation_id                             â”‚
â”‚ };                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼ HTTPè¯·æ±‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. åç«¯APIå¤„ç†                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: chat.py                                                                â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\backend-python-ai\app\api\v1\endpoints\    â”‚
â”‚       chat.py                                                                â”‚
â”‚                                                                              â”‚
â”‚ å‡½æ•°: send_chat_message(                                                     â”‚
â”‚         chat_request: ChatRequest,                                           â”‚
â”‚         current_user: Optional[UserContext] = Depends(get_optional_user)     â”‚
â”‚       )                                                                      â”‚
â”‚                                                                              â”‚
â”‚ è·¯ç”±: @router.post("/", ...)                                                â”‚
â”‚                                                                              â”‚
â”‚ æ­¥éª¤:                                                                        â”‚
â”‚ 1. å¤„ç†æœªç™»å½•ç”¨æˆ·                                                            â”‚
â”‚    user_id = current_user.user_id if current_user else "anonymous"          â”‚
â”‚    if user_id == "anonymous": user_id = None                                â”‚
â”‚                                                                              â”‚
â”‚ 2. æ„å»ºç”¨æˆ·ä¸Šä¸‹æ–‡                                                            â”‚
â”‚    user_context = {                                                          â”‚
â”‚      "user_id": user_id,                                                    â”‚
â”‚      "organization_id": organization_id,                                    â”‚
â”‚      "employee_id": chat_request.employee_id,                               â”‚
â”‚      "permissions": permissions,                                            â”‚
â”‚      "is_mock": is_mock                                                     â”‚
â”‚    };                                                                        â”‚
â”‚                                                                              â”‚
â”‚ 3. å‡†å¤‡æ¨¡å‹é…ç½®                                                              â”‚
â”‚    model_config = {}                                                         â”‚
â”‚    if chat_request.temperature: model_config["temperature"] = ...           â”‚
â”‚    if chat_request.max_tokens: model_config["max_tokens"] = ...             â”‚
â”‚                                                                              â”‚
â”‚ 4. è°ƒç”¨èŠå¤©æœåŠ¡                                                              â”‚
â”‚    result = await chat_service.process_chat_message(                         â”‚
â”‚      message=chat_request.message,                                           â”‚
â”‚      employee_id=chat_request.employee_id,                                   â”‚
â”‚      conversation_id=chat_request.conversation_id,                           â”‚
â”‚      user_context=user_context,                                              â”‚
â”‚      model_config=model_config                                               â”‚
â”‚    );                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: chat_service.py                                                        â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\backend-python-ai\app\services\ai\        â”‚
â”‚       chat_service.py                                                        â”‚
â”‚                                                                              â”‚
â”‚ ç±»: ChatService                                                              â”‚
â”‚ å‡½æ•°: process_chat_message(self, message, employee_id, ...)                  â”‚
â”‚                                                                              â”‚
â”‚ æ­¥éª¤:                                                                        â”‚
â”‚ 1. éªŒè¯è¾“å…¥                                                                  â”‚
â”‚    if not message or not employee_id: return error                           â”‚
â”‚                                                                              â”‚
â”‚ 2. è·å–æˆ–åˆ›å»ºå¯¹è¯                                                            â”‚
â”‚    conversation_info = await self._get_or_create_conversation(               â”‚
â”‚      employee_id=employee_id,                                                â”‚
â”‚      user_id=user_context.get("user_id"),                                    â”‚
â”‚      conversation_id=conversation_id                                         â”‚
â”‚    );                                                                        â”‚
â”‚    conversation_id = conversation_info["conversation_id"]                   â”‚
â”‚                                                                              â”‚
â”‚ 3. è·å–æˆ–åˆ›å»ºå‘˜å·¥æ™ºèƒ½ä½“                                                      â”‚
â”‚    employee_agent = await self._get_or_create_employee_agent(                â”‚
â”‚      employee_id=employee_id,                                                â”‚
â”‚      model_config=model_config                                               â”‚
â”‚    );                                                                        â”‚
â”‚                                                                              â”‚
â”‚ 4. æ„å»ºä¸Šä¸‹æ–‡                                                                â”‚
â”‚    context = {                                                               â”‚
â”‚      "conversation_id": conversation_id,                                    â”‚
â”‚      "user_id": user_context.get("user_id"),                                â”‚
â”‚      "employee_id": employee_id,                                            â”‚
â”‚      ...                                                                     â”‚
â”‚    };                                                                        â”‚
â”‚                                                                              â”‚
â”‚ 5. å¤„ç†æ¶ˆæ¯ (è°ƒç”¨æ™ºèƒ½ä½“)                                                     â”‚
â”‚    result = await employee_agent.process_message(message, context);         â”‚
â”‚                                                                              â”‚
â”‚ 6. ä¿å­˜æ¶ˆæ¯åˆ°è®°å¿† (å¦‚æœæˆåŠŸ)                                                  â”‚
â”‚    if result.get("success"):                                                 â”‚
â”‚      conversation_memory_manager.add_message(                                â”‚
â”‚        conversation_id=conversation_id,                                      â”‚
â”‚        role="user",                                                          â”‚
â”‚        content=message,                                                      â”‚
â”‚        metadata={...}                                                        â”‚
â”‚      );                                                                      â”‚
â”‚      conversation_memory_manager.add_message(                                â”‚
â”‚        conversation_id=conversation_id,                                      â”‚
â”‚        role="assistant",                                                     â”‚
â”‚        content=result["response"],                                           â”‚
â”‚        metadata={...}                                                        â”‚
â”‚      );                                                                      â”‚
â”‚                                                                              â”‚
â”‚ 7. è¿”å›ç»“æœ                                                                  â”‚
â”‚    return result;                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: digital_employee_agent.py                                              â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\backend-python-ai\app\agents\              â”‚
â”‚       digital_employee_agent.py                                              â”‚
â”‚                                                                              â”‚
â”‚ ç±»: DigitalEmployeeAgent(BaseAgent)                                          â”‚
â”‚ å‡½æ•°: process_message(self, message: str, context: Dict)                     â”‚
â”‚                                                                              â”‚
â”‚ æ­¥éª¤:                                                                        â”‚
â”‚ 1. è®°å½•å¼€å§‹æ—¶é—´                                                              â”‚
â”‚    start_time = time.time();                                                 â”‚
â”‚                                                                              â”‚
â”‚ 2. è·å–å¯¹è¯å†å²                                                              â”‚
â”‚    conversation_id = context.get("conversation_id");                         â”‚
â”‚    chat_history = conversation_memory_manager.get_conversation_messages(     â”‚
â”‚      conversation_id, limit=10                                               â”‚
â”‚    );                                                                        â”‚
â”‚    // è¿”å›æ ¼å¼: [{"role": "user", "content": "..."}, ...]                   â”‚
â”‚                                                                              â”‚
â”‚ 3. æ‰§è¡Œæ™ºèƒ½ä½“                                                                â”‚
â”‚    result = await self.agent_executor.ainvoke({"input": message});          â”‚
â”‚    // agent_executor æ˜¯ LangChain çš„ AgentExecutor                          â”‚
â”‚                                                                              â”‚
â”‚ 4. æå–å“åº”                                                                  â”‚
â”‚    response_text = result["output"];                                         â”‚
â”‚                                                                              â”‚
â”‚ 5. è®¡ç®—è€—æ—¶                                                                  â”‚
â”‚    processing_time = time.time() - start_time;                               â”‚
â”‚                                                                              â”‚
â”‚ 6. æ„å»ºæˆåŠŸå“åº”                                                              â”‚
â”‚    return self._create_success_response(                                     â”‚
â”‚      message=message,                                                        â”‚
â”‚      response=response_text,                                                 â”‚
â”‚      context=context,                                                        â”‚
â”‚      processing_time=processing_time                                         â”‚
â”‚    );                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: chat_deepseek.py                                                       â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\backend-python-ai\app\services\ai\        â”‚
â”‚       chat_deepseek.py                                                       â”‚
â”‚                                                                              â”‚
â”‚ ç±»: ChatDeepSeek(BaseChatModel)                                              â”‚
â”‚ å‡½æ•°: _agenerate(self, messages, stop, run_manager, **kwargs)                â”‚
â”‚                                                                              â”‚
â”‚ æ­¥éª¤:                                                                        â”‚
â”‚ 1. æ„å»ºè¯·æ±‚URL                                                               â”‚
â”‚    url = f"{self.base_url}/chat/completions"                                â”‚
â”‚                                                                              â”‚
â”‚ 2. æ„å»ºè¯·æ±‚å¤´                                                                â”‚
â”‚    headers = {                                                               â”‚
â”‚      "Authorization": f"Bearer {self.api_key}",                             â”‚
â”‚      "Content-Type": "application/json"                                     â”‚
â”‚    };                                                                        â”‚
â”‚                                                                              â”‚
â”‚ 3. è½¬æ¢æ¶ˆæ¯æ ¼å¼                                                              â”‚
â”‚    message_dicts = [                                                         â”‚
â”‚      {                                                                       â”‚
â”‚        "role": _convert_message_role(msg.type),  // system/user/assistant   â”‚
â”‚        "content": msg.content                                                â”‚
â”‚      }                                                                       â”‚
â”‚      for msg in messages                                                     â”‚
â”‚    ];                                                                        â”‚
â”‚                                                                              â”‚
â”‚ 4. æ„å»ºè¯·æ±‚ä½“                                                                â”‚
â”‚    body = {                                                                  â”‚
â”‚      "model": self.model,  // "deepseek-chat"                               â”‚
â”‚      "messages": message_dicts,                                             â”‚
â”‚      "temperature": self.temperature,                                       â”‚
â”‚      "max_tokens": self.max_tokens                                          â”‚
â”‚    };                                                                        â”‚
â”‚                                                                              â”‚
â”‚ 5. å‘é€å¼‚æ­¥HTTPè¯·æ±‚                                                          â”‚
â”‚    async with aiohttp.ClientSession() as session:                           â”‚
â”‚      async with session.post(url, headers=headers, json=body) as response:  â”‚
â”‚        result = await response.json();                                       â”‚
â”‚                                                                              â”‚
â”‚ 6. è§£æå“åº”                                                                  â”‚
â”‚    message_content = result["choices"][0]["message"]["content"];            â”‚
â”‚                                                                              â”‚
â”‚ 7. è¿”å›LangChainæ¶ˆæ¯å¯¹è±¡                                                     â”‚
â”‚    return ChatResult(                                                        â”‚
â”‚      generations=[ChatGeneration(message=AIMessage(content=message_content))]â”‚
â”‚    );                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼ (AIå›å¤)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é€å±‚è¿”å›ç»“æœ                                                                 â”‚
â”‚ chat_deepseek.py -> digital_employee_agent.py -> chat_service.py -> chat.py â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: chat.py (è¿”å›å“åº”)                                                     â”‚
â”‚                                                                              â”‚
â”‚ response_data = {                                                            â”‚
â”‚   "response": result.get("response", ""),  // AIå®é™…å›å¤å†…å®¹                â”‚
â”‚   "conversation_id": result.get("conversation_id"),                         â”‚
â”‚   "message_id": result.get("message_id", str(uuid.uuid4())),                â”‚
â”‚   "employee_id": chat_request.employee_id,                                  â”‚
â”‚   "user_id": user_id,                                                       â”‚
â”‚   "processing_time": result.get("processing_time"),                         â”‚
â”‚   "timestamp": result.get("timestamp"),                                     â”‚
â”‚   "model_info": result.get("model_info", {})                                â”‚
â”‚ };                                                                           â”‚
â”‚                                                                              â”‚
â”‚ return SuccessResponse(                                                      â”‚
â”‚   success=True,                                                              â”‚
â”‚   message="æ¶ˆæ¯å¤„ç†æˆåŠŸ",  // è¿™æ˜¯ç»™ç”¨æˆ·çš„æç¤ºï¼Œä¸æ˜¯AIå›å¤                  â”‚
â”‚   data=response_data                                                         â”‚
â”‚ );                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼ HTTPå“åº”
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. å‰ç«¯å±•ç¤ºAIå›å¤                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: ChatInterface.tsx                                                      â”‚
â”‚                                                                              â”‚
â”‚ æ¸²æŸ“æ¶ˆæ¯åˆ—è¡¨:                                                                â”‚
â”‚ {messages.map(msg => (                                                       â”‚
â”‚   <MessageBubble                                                             â”‚
â”‚     key={msg.id}                                                             â”‚
â”‚     role={msg.role}  // 'user' | 'model'                                    â”‚
â”‚     content={msg.content}  // AIå›å¤å†…å®¹                                    â”‚
â”‚     timestamp={msg.timestamp}                                               â”‚
â”‚   />                                                                         â”‚
â”‚ ))}                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”®ä»£ç ç‰‡æ®µ

**å‰ç«¯ - æ¶ˆæ¯å‘é€ä¸æ¥æ”¶**
```typescript
// chatStore.ts
sendMessage: async (employeeId, content) => {
  // 1. åˆ›å»ºä¼šè¯
  let sessionId = state.currentSessionId;
  if (!sessionId) {
    sessionId = get().createSession(employeeId, content.slice(0, 30));
  }
  
  // 2. æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
  const userMessage = { id: `msg-${Date.now()}-user`, role: 'user', content, timestamp: Date.now() };
  set(state => ({
    messagesBySession: {
      ...state.messagesBySession,
      [sessionId]: [...(state.messagesBySession[sessionId] || []), userMessage]
    }
  }));
  
  // 3. è°ƒç”¨API
  setEmployeeContext(employeeId);
  const response = await sendChatMessage(employeeId, content, sessionId);
  
  // 4. æ·»åŠ AIæ¶ˆæ¯ (å…³é”®: response.message æ˜¯ AI å›å¤)
  const aiMessage = {
    id: `msg-${Date.now()}-ai`,
    role: 'model',
    content: response.message,  // âœ… AIå›å¤å†…å®¹
    timestamp: Date.now()
  };
  set(state => ({
    messagesBySession: {
      ...state.messagesBySession,
      [sessionId]: [...state.messagesBySession[sessionId], aiMessage]
    }
  }));
}
```

**åç«¯ - èŠå¤©æœåŠ¡åè°ƒ**
```python
# chat_service.py
class ChatService:
    async def process_chat_message(self, message, employee_id, conversation_id, user_context, model_config):
        # 1. è·å–/åˆ›å»ºå¯¹è¯
        conversation_info = await self._get_or_create_conversation(
            employee_id=employee_id,
            user_id=user_context.get("user_id"),
            conversation_id=conversation_id
        )
        
        # 2. è·å–/åˆ›å»ºå‘˜å·¥æ™ºèƒ½ä½“
        employee_agent = await self._get_or_create_employee_agent(
            employee_id=employee_id,
            model_config=model_config
        )
        
        # 3. è°ƒç”¨æ™ºèƒ½ä½“å¤„ç†
        result = await employee_agent.process_message(message, context)
        
        # 4. ä¿å­˜åˆ°è®°å¿†
        if result.get("success"):
            conversation_memory_manager.add_message(
                conversation_id=conversation_id,
                role="user",
                content=message
            )
            conversation_memory_manager.add_message(
                conversation_id=conversation_id,
                role="assistant",
                content=result["response"]
            )
        
        return result
```

---

## ğŸ¯ åœºæ™¯å››ï¼šæŸ¥çœ‹å‘˜å·¥è¯¦æƒ…

### æ—¶åºå›¾

```
ç”¨æˆ·ç‚¹å‡»å‘˜å·¥å¡ç‰‡
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. è§¦å‘ç‚¹å‡»äº‹ä»¶                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: EmployeeCard.tsx                                                       â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\ui-pages\marketplace\        â”‚
â”‚       components\EmployeeCard.tsx                                            â”‚
â”‚                                                                              â”‚
â”‚ äº‹ä»¶: onClick={() => onEmployeeClick(employee)}                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: useMarketplaceInteraction.ts                                           â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\modules\marketplace\logic\    â”‚
â”‚       hooks\useMarketplaceInteraction.ts                                     â”‚
â”‚                                                                              â”‚
â”‚ å‡½æ•°: handleEmployeeCardClick(employee)                                      â”‚
â”‚                                                                              â”‚
â”‚ é€»è¾‘:                                                                        â”‚
â”‚ if (employee.isHired || employee.isRecruited) {                             â”‚
â”‚   // å·²é›‡ä½£ï¼Œç›´æ¥è·³è½¬åˆ°èŠå¤©                                                  â”‚
â”‚   navigate(`/chat/${employee.id}`);                                         â”‚
â”‚ } else {                                                                     â”‚
â”‚   // æœªé›‡ä½£ï¼Œæ˜¾ç¤ºæ‹›è˜å¼¹çª—                                                    â”‚
â”‚   uiStore.openHireModal(employee);                                          â”‚
â”‚ }                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼ (å·²é›‡ä½£åˆ†æ”¯)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: ChatBridge.tsx                                                         â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\modules\marketplace\          â”‚
â”‚       ChatBridge.tsx                                                         â”‚
â”‚                                                                              â”‚
â”‚ ç»„ä»¶: ChatBridge                                                             â”‚
â”‚ è·¯ç”±: /chat/:employeeId                                                      â”‚
â”‚                                                                              â”‚
â”‚ åˆå§‹åŒ–:                                                                      â”‚
â”‚ const { employeeId } = useParams();                                         â”‚
â”‚ chatStore.setCurrentEmployee(employeeId);                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: chatStore.ts                                                           â”‚
â”‚                                                                              â”‚
â”‚ å‡½æ•°: setCurrentEmployee(employeeId)                                         â”‚
â”‚                                                                              â”‚
â”‚ æ­¥éª¤:                                                                        â”‚
â”‚ 1. è®¾ç½®å½“å‰å‘˜å·¥ID: set({ currentEmployeeId: employeeId })                   â”‚
â”‚ 2. è®¾ç½®APIè¯·æ±‚å¤´: setEmployeeContext(employeeId)                            â”‚
â”‚ 3. é‡ç½®è¾“å…¥: set({ inputValue: '' })                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: ChatInterface.tsx                                                      â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\ui-pages\marketplace\        â”‚
â”‚       components\ChatInterface.tsx                                           â”‚
â”‚                                                                              â”‚
â”‚ æ¸²æŸ“èŠå¤©ç•Œé¢:                                                                â”‚
â”‚ - å·¦ä¾§: ä¼šè¯å†å²åˆ—è¡¨                                                         â”‚
â”‚ - å³ä¾§: æ¶ˆæ¯åˆ—è¡¨ + è¾“å…¥æ¡†                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ æ ¸å¿ƒæ•°æ®æ¨¡å‹

### å‰ç«¯æ•°æ®æ¨¡å‹

```typescript
// Employee ç±»å‹
interface Employee {
  id: string;
  name: string;
  description: string;
  avatar: string;
  category: string[];
  tags: string[];
  price: number | 'free';
  originalPrice?: number;
  trialCount: number;
  hireCount: number;
  isHired: boolean;
  isRecruited: boolean;
  status: 'published' | 'draft' | 'archived';
  skills: string[];
  knowledgeBaseIds: string[];
  isHot?: boolean;
  industry?: string;
  role?: string;
  prompt?: string;
  model?: string;
  createdAt?: string;
  createdBy?: string;
}

// Message ç±»å‹
interface Message {
  id: string;
  role: 'user' | 'model' | 'assistant';
  content: string;
  timestamp: number;
}

// ChatSession ç±»å‹
interface ChatSession {
  id: string;
  title: string;
  employeeId: string;
  lastModified: number;
}
```

### åç«¯æ•°æ®æ¨¡å‹

```python
# EmployeeResponse æ¨¡å‹
class EmployeeResponse(EmployeeBase):
    id: str
    trial_count: int = 0
    hire_count: int = 0
    is_hired: bool = False
    is_recruited: bool = False
    status: str = "draft"
    created_at: datetime
    updated_at: datetime
    created_by: Optional[str] = None
    is_hot: Optional[bool] = None

# ChatRequest æ¨¡å‹
class ChatRequest(BaseModel):
    message: str = Field(..., min_length=1, max_length=5000)
    employee_id: str = Field(..., description="å‘˜å·¥ID")
    conversation_id: Optional[str] = Field(default=None)
    stream: bool = Field(default=False)
    temperature: Optional[float] = Field(default=None, ge=0.0, le=2.0)
    max_tokens: Optional[int] = Field(default=None, ge=1, le=16000)

# SuccessResponse æ¨¡å‹
class SuccessResponse(BaseModel):
    success: bool = True
    message: str = "æ“ä½œæˆåŠŸ"
    data: Optional[Any] = None
    timestamp: datetime = Field(default_factory=datetime.now)

# KnowledgeBaseResponse æ¨¡å‹
class KnowledgeBaseResponse(BaseModel):
    id: str
    name: str
    description: Optional[str] = None
    doc_count: int = 0
    created_by: Optional[str] = None
    created_at: datetime
    updated_at: datetime
    status: str = "active"
    tags: Optional[List[str]] = None
    is_public: Optional[bool] = True
    vectorized: Optional[bool] = False

# KnowledgeItemResponse æ¨¡å‹
class KnowledgeItemResponse(BaseModel):
    id: str
    knowledge_base_id: str
    serial_no: int
    content: str
    word_count: int
    create_time: datetime
    source_file: Optional[str] = None
    metadata: Optional[Dict[str, Any]] = None
```

---

## ğŸ¯ åœºæ™¯äº”ï¼šçŸ¥è¯†åº“ç®¡ç†

### æ—¶åºå›¾ - åˆ›å»ºçŸ¥è¯†åº“å¹¶ä¸Šä¼ æ–‡æ¡£

```
ç”¨æˆ·ç‚¹å‡»"æ„å»ºçŸ¥è¯†åº“"
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: KnowledgeBaseBridge.tsx                                                â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\modules\knowledge-base\        â”‚
â”‚       KnowledgeBaseBridge.tsx                                                â”‚
â”‚                                                                              â”‚
â”‚ å‡½æ•°: handleConfirmCreateKB()                                                â”‚
â”‚ è°ƒç”¨: kbStore.createKnowledgeBase({ name, description })                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: knowledgeBaseService.ts                                                â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\frontend\src\modules\knowledge-base\        â”‚
â”‚       logic\services\knowledgeBaseService.ts                                 â”‚
â”‚                                                                              â”‚
â”‚ å‡½æ•°: createKnowledgeBase(data)                                              â”‚
â”‚ è°ƒç”¨: knowledgeBaseApi.createKnowledgeBase(data)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼ HTTP POST
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: knowledge.py                                                             â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\backend-python-ai\app\api\v1\endpoints\      â”‚
â”‚       knowledge.py                                                           â”‚
â”‚                                                                              â”‚
â”‚ ç«¯ç‚¹: POST /api/v1/knowledge-bases                                           â”‚
â”‚ å‡½æ•°: create_knowledge_base()                                                â”‚
â”‚ è°ƒç”¨: knowledge_service.create_knowledge_base()                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: knowledge_service.py                                                   â”‚
â”‚ è·¯å¾„: d:\Project\MEK-AI\MEK-AI-V2\backend-python-ai\app\services\knowledge\   â”‚
â”‚       knowledge_service.py                                                   â”‚
â”‚                                                                              â”‚
â”‚ å‡½æ•°: create_knowledge_base()                                                â”‚
â”‚ æ“ä½œ: åˆ›å»ºçŸ¥è¯†åº“è®°å½•ï¼Œå­˜å‚¨åˆ° _knowledge_bases å­—å…¸                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ—¶åºå›¾ - ä¸Šä¼ æ–‡æ¡£å¹¶è§£æ

```
ç”¨æˆ·é€‰æ‹©æ–‡ä»¶å¹¶ç‚¹å‡»"AIå¤„ç†"
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: KnowledgeBaseBridge.tsx                                                â”‚
â”‚ å‡½æ•°: handleAIProcess()                                                      â”‚
â”‚ è°ƒç”¨: knowledgeBaseService.uploadDocument(kbId, file, config)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼ HTTP POST (multipart/form-data)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç«¯ç‚¹: POST /api/v1/knowledge-bases/{id}/documents/upload                     â”‚
â”‚ å‡½æ•°: upload_document()                                                      â”‚
â”‚ æ“ä½œ: ä¿å­˜æ–‡ä»¶åˆ°æœ¬åœ°å­˜å‚¨ï¼Œè¿”å› file_id                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼ (å‰ç«¯è‡ªåŠ¨è°ƒç”¨è§£æ)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç«¯ç‚¹: POST /api/v1/knowledge-bases/{id}/documents/{file_id}/parse            â”‚
â”‚ å‡½æ•°: parse_document()                                                       â”‚
â”‚ è°ƒç”¨: document_processor.parse_document() -> split_documents()               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¿”å›: åˆ†å‰²åçš„çŸ¥è¯†å—åˆ—è¡¨ (knowledge_list)                                      â”‚
â”‚ æ ¼å¼: [{id, serial_no, content, word_count, source_file, metadata}]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ—¶åºå›¾ - ä¿å­˜çŸ¥è¯†ç‚¹åˆ°çŸ¥è¯†åº“

```
ç”¨æˆ·ç‚¹å‡»"ç¡®å®š"ä¿å­˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: KnowledgeBaseBridge.tsx                                                â”‚
â”‚ å‡½æ•°: handleConfirmSave()                                                    â”‚
â”‚ è°ƒç”¨: knowledgeBaseService.saveParsedKnowledge(kbId, parseResults)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼ HTTP POST
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç«¯ç‚¹: POST /api/v1/knowledge-bases/{id}/knowledge                            â”‚
â”‚ å‡½æ•°: save_knowledge_items()                                                 â”‚
â”‚ è°ƒç”¨: knowledge_service.add_knowledge_items()                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: knowledge_service.py                                                   â”‚
â”‚ å‡½æ•°: add_knowledge_items()                                                  â”‚
â”‚ æ“ä½œ: æ‰¹é‡æ·»åŠ çŸ¥è¯†ç‚¹åˆ° _knowledge_items[kb_id] åˆ—è¡¨                          â”‚
â”‚       æ›´æ–°çŸ¥è¯†åº“ doc_count è®¡æ•°                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ—¶åºå›¾ - åˆ é™¤çŸ¥è¯†ç‚¹

```
ç”¨æˆ·ç‚¹å‡»å•ä¸ªçŸ¥è¯†å—åˆ é™¤æŒ‰é’®æˆ–"ä¸€é”®æ¸…é™¤"
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: KnowledgeBaseBridge.tsx                                                â”‚
â”‚ å‡½æ•°: handleDeleteKnowledgeItem(itemId) / handleClearAllKnowledge()          â”‚
â”‚ è°ƒç”¨: knowledgeBaseService.deleteKnowledgeItem(kbId, itemId)                 â”‚
â”‚       knowledgeBaseService.clearKnowledgeItems(kbId)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼ HTTP DELETE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç«¯ç‚¹: DELETE /api/v1/knowledge-bases/{id}/knowledge/{item_id}                â”‚
â”‚       DELETE /api/v1/knowledge-bases/{id}/knowledge                          â”‚
â”‚ å‡½æ•°: delete_knowledge_item() / clear_knowledge_items()                      â”‚
â”‚ è°ƒç”¨: knowledge_service.delete_knowledge_item() / clear_knowledge_items()    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶: knowledge_service.py                                                   â”‚
â”‚ å‡½æ•°: delete_knowledge_item() - è¿‡æ»¤åˆ é™¤æŒ‡å®šçŸ¥è¯†ç‚¹                           â”‚
â”‚       clear_knowledge_items() - æ¸…ç©ºçŸ¥è¯†ç‚¹åˆ—è¡¨                               â”‚
â”‚ æ“ä½œ: æ›´æ–° _knowledge_itemsï¼ŒåŒæ­¥æ›´æ–°çŸ¥è¯†åº“ doc_count                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ è”è°ƒé—®é¢˜è®°å½•

### é—®é¢˜1ï¼šå‘˜å·¥åˆ—è¡¨è¿”å›0æ¡æ•°æ®

**ç°è±¡**ï¼šå‰ç«¯è¯·æ±‚ `/api/v1/employees` è¿”å›ç©ºæ•°ç»„ï¼Œä½†åˆ†ç±»æ¥å£æ­£å¸¸è¿”å›6ä¸ªåˆ†ç±»

**æ ¹æœ¬åŸå› **ï¼š
```python
# é”™è¯¯ä»£ç 
user_id = current_user.user_id if current_user else "anonymous"
# ç»“æœ: user_id = "anonymous"
# è¿‡æ»¤é€»è¾‘: if user_id and emp_data["created_by"] != user_id: continue
# æ‰€æœ‰å‘˜å·¥çš„ created_by éƒ½ä¸æ˜¯ "anonymous"ï¼Œæ‰€ä»¥å…¨éƒ¨è¢«è¿‡æ»¤
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```python
# æ­£ç¡®ä»£ç 
user_id = current_user.user_id if current_user else None
if user_id == "anonymous":
    user_id = None  # åŒ¿åç”¨æˆ·ä¸è¿‡æ»¤
```

**æ–‡ä»¶ä½ç½®**ï¼š`app/api/v1/endpoints/employees.py`

---

### é—®é¢˜2ï¼šè·¯ç”±å†²çª - `/categories` è¢«åŒ¹é…ä¸º `/{employee_id}`

**ç°è±¡**ï¼šè¯·æ±‚ `/api/v1/employees/categories` è¿”å›404

**æ ¹æœ¬åŸå› **ï¼šFastAPI è·¯ç”±æŒ‰å®šä¹‰é¡ºåºåŒ¹é…ï¼ŒåŠ¨æ€è·¯ç”±åœ¨é™æ€è·¯ç”±ä¹‹å‰

**è§£å†³æ–¹æ¡ˆ**ï¼š
```python
# æ­£ç¡®é¡ºåº
@router.get("/categories", ...)      # âœ… é™æ€è·¯ç”±åœ¨å‰
@router.get("/{employee_id}", ...)   # âœ… åŠ¨æ€è·¯ç”±åœ¨å

# é”™è¯¯é¡ºåº
@router.get("/{employee_id}", ...)   # âŒ ä¼šæ‹¦æˆª /categories
@router.get("/categories", ...)      # âŒ æ°¸è¿œä¸ä¼šè¢«åŒ¹é…
```

**æ–‡ä»¶ä½ç½®**ï¼š`app/api/v1/endpoints/employees.py`

---

### é—®é¢˜3ï¼šé›‡ä½£æ¥å£è¿”å›422é”™è¯¯

**ç°è±¡**ï¼šç‚¹å‡»"å…è´¹æ‹›è˜"æŒ‰é’®ï¼Œåç«¯è¿”å›422

**æ ¹æœ¬åŸå› **ï¼š`HireRequest` æ¨¡å‹è¦æ±‚ `employee_id` å¿…å¡«ï¼Œä½†å‰ç«¯åªå‘é€ `{}`

**è§£å†³æ–¹æ¡ˆ**ï¼š
```python
# ä¿®æ”¹å‰
class HireRequest(BaseModel):
    employee_id: str = Field(..., description="å‘˜å·¥ID")  # å¿…å¡«

# ä¿®æ”¹å
class HireRequest(BaseModel):
    employee_id: Optional[str] = None  # URLè·¯å¾„ä¸­å·²æä¾›
```

**æ–‡ä»¶ä½ç½®**ï¼š`app/models/schemas.py`

---

### é—®é¢˜4ï¼šå‰ç«¯åªæ˜¾ç¤º"æ¶ˆæ¯å¤„ç†æˆåŠŸ"

**ç°è±¡**ï¼šåç«¯è¿”å›200ï¼Œä½†å‰ç«¯ä¸æ˜¾ç¤ºAIå›å¤

**æ ¹æœ¬åŸå› **ï¼šå‰ç«¯è§£æäº† `response.message` è€Œä¸æ˜¯ `response.data.response`

**è§£å†³æ–¹æ¡ˆ**ï¼š
```typescript
// é”™è¯¯ä»£ç 
return response.message;  // "æ¶ˆæ¯å¤„ç†æˆåŠŸ"

// æ­£ç¡®ä»£ç 
return {
  message: response.data.response,  // AIå®é™…å›å¤
  conversation_id: response.data.conversation_id
};
```

**æ–‡ä»¶ä½ç½®**ï¼š`frontend/src/modules/marketplace/logic/services/employeeApi.ts`

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [PROJECT_ARCHITECTURE.md](file:///d:/Project/MEK-AI/MEK-AI-V2/backend-python-ai/PROJECT_ARCHITECTURE.md) - é¡¹ç›®æ¶æ„æ–‡æ¡£
- [TROUBLESHOOTING.md](file:///d:/Project/MEK-AI/MEK-AI-V2/backend-python-ai/TROUBLESHOOTING.md) - é—®é¢˜æ’æŸ¥æŒ‡å—
- [app/api/router.py](file:///d:/Project/MEK-AI/MEK-AI-V2/backend-python-ai/app/api/router.py) - è·¯ç”±é…ç½®

---

*æ–‡æ¡£ç”Ÿæˆæ—¶é—´ï¼š2026-02-06*
